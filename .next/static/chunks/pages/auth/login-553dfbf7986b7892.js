(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[384],{1290:e=>{e.exports={container:"login_container__P__Xi",card:"login_card__aY_eQ",brandPanel:"login_brandPanel__eOiGy",brandTitle:"login_brandTitle__MA3I8",brandSubtitle:"login_brandSubtitle__XqOa3",featureContainer:"login_featureContainer__Nzih_",feature:"login_feature__f9QfD",featureIcon:"login_featureIcon__y9LdW",featureText:"login_featureText__oCRhR",loginPanel:"login_loginPanel__m4LbU",loginTitle:"login_loginTitle__mcfpI",loginSubtitle:"login_loginSubtitle__xPh67",form:"login_form__GZwR8",inputContainer:"login_inputContainer__v_ohi",inputWrapper:"login_inputWrapper__wrKZd",inputIcon:"login_inputIcon__8cysS",input:"login_input__ZehjW",label:"login_label__fGsPq",passwordToggle:"login_passwordToggle__vVD5e",forgotPassword:"login_forgotPassword__gJLeh",forgotLink:"login_forgotLink__kzk_0",loginButton:"login_loginButton__nG0_n",divider:"login_divider__p6FNE",dividerLine:"login_dividerLine__O6oGu",dividerText:"login_dividerText__dO7eO",socialButton:"login_socialButton__nadBE",footer:"login_footer__P_AVT",signupLink:"login_signupLink__ZEEfI",spinner:"login_spinner__UfdFA",spin:"login_spin__Tj2MB"}},2341:(e,i,n)=>{"use strict";n.d(i,{A:()=>s});let s=(0,n(1713).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2347:(e,i,n)=>{"use strict";n.d(i,{A:()=>s});let s=(0,n(1713).A)("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},3210:(e,i,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return n(4433)}])},4433:(e,i,n)=>{"use strict";n.r(i),n.d(i,{default:()=>v});var s=n(7876),a=n(4232),t=n(9099),r=n(8230),o=n.n(r),l=n(2934),c=n(7685),d=n(7297),u=n(7396),_=n(5952),g=n(2347),h=n(9239),p=n(7897),x=n(2341),m=n(4622),f=n(1290),j=n.n(f);function v(){let e=(0,t.useRouter)(),[i,n]=(0,a.useState)(""),[r,f]=(0,a.useState)(""),[v,N]=(0,a.useState)(!1),[w,y]=(0,a.useState)(!1);async function b(n){if(n.preventDefault(),!i||!r){c.oR.error("Please fill all fields.");return}try{N(!0),console.log("Attempting login with email:",i);let n=await (0,l.signIn)("credentials",{email:i,password:r,redirect:!1});if(console.log("SignIn result:",{...n,error:null==n?void 0:n.error}),n.error){c.oR.error(n.error||"Login failed.");return}let s=await fetch("/api/auth/session"),a=await s.json();if(console.log("Session data after login:",a),!(null==a?void 0:a.user)){c.oR.error("Failed to load user data");return}c.oR.success("Login successful!"),await new Promise(e=>setTimeout(e,100)),"admin"===a.user.role?e.push("/dashboard/admin"):e.push("/dashboard")}catch(e){console.error("Login error:",e),c.oR.error("Something went wrong.")}finally{N(!1)}}let k=[{icon:(0,s.jsx)(d.A,{size:20,color:"white"}),text:"Enhanced security with end-to-end encryption"},{icon:(0,s.jsx)(u.A,{size:20,color:"white"}),text:"Connect with your alumni network"},{icon:(0,s.jsx)(_.A,{size:20,color:"white"}),text:"Access exclusive learning resources"}];return(0,s.jsx)("div",{className:j().container,children:(0,s.jsxs)("div",{className:j().card,children:[(0,s.jsx)("div",{className:j().brandPanel,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:j().brandTitle,children:"Welcome back!"}),(0,s.jsx)("p",{className:j().brandSubtitle,children:"Sign in to continue your journey and explore our platform's features."}),(0,s.jsx)("div",{className:j().featureContainer,children:k.map((e,i)=>(0,s.jsxs)("div",{className:j().feature,children:[(0,s.jsx)("div",{className:j().featureIcon,children:e.icon}),(0,s.jsx)("span",{className:j().featureText,children:e.text})]},i))}),(0,s.jsx)("div",{className:j().decorativePattern,children:(0,s.jsx)("div",{className:j().pattern})})]})}),(0,s.jsxs)("div",{className:j().loginPanel,children:[(0,s.jsx)("h2",{className:j().loginTitle,children:"Sign in"}),(0,s.jsx)("p",{className:j().loginSubtitle,children:"Please enter your credentials to continue"}),(0,s.jsxs)("form",{className:j().form,onSubmit:b,children:[(0,s.jsxs)("div",{className:j().inputContainer,children:[(0,s.jsx)("label",{className:j().label,children:"Email"}),(0,s.jsxs)("div",{className:j().inputWrapper,children:[(0,s.jsx)(g.A,{size:18,className:j().inputIcon}),(0,s.jsx)("input",{type:"email",value:i,onChange:e=>n(e.target.value),className:j().input,placeholder:"you@example.com",required:!0})]})]}),(0,s.jsxs)("div",{className:j().inputContainer,children:[(0,s.jsx)("label",{className:j().label,children:"Password"}),(0,s.jsxs)("div",{className:j().inputWrapper,children:[(0,s.jsx)(h.A,{size:18,className:j().inputIcon}),(0,s.jsx)("input",{type:w?"text":"password",value:r,onChange:e=>f(e.target.value),className:j().input,placeholder:"••••••••",required:!0}),(0,s.jsx)("button",{type:"button",className:j().passwordToggle,onClick:()=>y(!w),children:w?(0,s.jsx)(p.A,{size:18}):(0,s.jsx)(x.A,{size:18})})]}),(0,s.jsx)("div",{className:j().forgotPassword,children:(0,s.jsx)(o(),{href:"/auth/forgot-password",className:j().forgotLink,children:"Forgot password?"})})]}),(0,s.jsx)("button",{type:"submit",className:"".concat(j().loginButton," ").concat(v?j().loading:""),disabled:v,children:v?(0,s.jsx)("div",{className:j().spinner}):(0,s.jsxs)(s.Fragment,{children:["Sign in",(0,s.jsx)(m.A,{size:18})]})})]}),(0,s.jsxs)("div",{className:j().divider,children:[(0,s.jsx)("div",{className:j().dividerLine}),(0,s.jsx)("span",{className:j().dividerText,children:"Or continue with"}),(0,s.jsx)("div",{className:j().dividerLine})]}),(0,s.jsxs)("button",{type:"button",className:j().socialButton,children:[(0,s.jsx)("img",{src:"/google-icon.svg",alt:"Google",width:"18",height:"18"}),"Sign in with Google"]}),(0,s.jsxs)("p",{className:j().footer,children:["Don't have an account?"," ",(0,s.jsx)(o(),{href:"/auth/signup",className:j().signupLink,children:"Create an account"})]})]})]})})}},4622:(e,i,n)=>{"use strict";n.d(i,{A:()=>s});let s=(0,n(1713).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},7897:(e,i,n)=>{"use strict";n.d(i,{A:()=>s});let s=(0,n(1713).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},9099:(e,i,n)=>{e.exports=n(8253)},9239:(e,i,n)=>{"use strict";n.d(i,{A:()=>s});let s=(0,n(1713).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{var i=i=>e(e.s=i);e.O(0,[636,593,792],()=>i(3210)),_N_E=e.O()}]);