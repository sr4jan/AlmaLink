"use strict";(()=>{var e={};e.id=4978,e.ids=[4978],e.modules={1397:(e,n,t)=>{t.r(n),t.d(n,{config:()=>p,default:()=>l,routeModule:()=>c});var r={};t.r(r),t.d(r,{default:()=>d});var i=t(3480),o=t(8667),s=t(6435),a=t(3759),u=t(5670);async function d(e,n){if(await (0,a.A)(),"GET"===e.method){let e=await u.A.find({});return n.status(200).json(e)}if("POST"!==e.method)return n.status(405).end();{let{title:t,speaker:r,date:i,time:o,description:s}=e.body,a=new u.A({title:t,speaker:r,date:i,time:o,description:s});return await a.save(),n.status(201).json(a)}}let l=(0,s.M)(r,"default"),p=(0,s.M)(r,"config"),c=new i.PagesAPIRouteModule({definition:{kind:o.A.PAGES_API,page:"/api/livesessions",pathname:"/api/livesessions",bundlePath:"",filename:""},userland:r})},3480:(e,n,t)=>{e.exports=t(5600)},3759:(e,n,t)=>{t.d(n,{A:()=>a});var r=t(6037),i=t.n(r);let o=process.env.MONGODB_URI;if(!o)throw Error("Please define the MONGODB_URI environment variable in .env.local");let s=global.mongoose;s||(s=global.mongoose={conn:null,promise:null});let a=async function(){return s.conn||(s.promise||(s.promise=i().connect(o).then(e=>e)),s.conn=await s.promise),s.conn}},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},5670:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(6037),i=t.n(r);let o=new(i()).Schema({title:{type:String,required:!0},speaker:{type:String,required:!0},date:{type:String,required:!0},time:{type:String,required:!0},description:{type:String}},{timestamps:!0}),s=i().models.LiveSession||i().model("LiveSession",o)},6037:e=>{e.exports=require("mongoose")},6435:(e,n)=>{Object.defineProperty(n,"M",{enumerable:!0,get:function(){return function e(n,t){return t in n?n[t]:"then"in n&&"function"==typeof n.then?n.then(n=>e(n,t)):"function"==typeof n&&"default"===t?n:void 0}}})},8667:(e,n)=>{Object.defineProperty(n,"A",{enumerable:!0,get:function(){return t}});var t=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})}};var n=require("../../webpack-api-runtime.js");n.C(e);var t=n(n.s=1397);module.exports=t})();