(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[563],{26:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});let n=(0,a(1713).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},592:e=>{e.exports={modalOverlay:"ProfileModal_modalOverlay__BOVIL",fadeIn:"ProfileModal_fadeIn__20f9_",modalContent:"ProfileModal_modalContent__6__un",slideUp:"ProfileModal_slideUp__pCfNI",closeButton:"ProfileModal_closeButton__JweJa",profileHeader:"ProfileModal_profileHeader__lO5Ir",avatar:"ProfileModal_avatar__ritOb",headerInfo:"ProfileModal_headerInfo__Nf48T",role:"ProfileModal_role__LZAKG",profileBody:"ProfileModal_profileBody__F_XSv",section:"ProfileModal_section__AgL_L",skills:"ProfileModal_skills__UnAqf",skill:"ProfileModal_skill__7DxjK",experienceItem:"ProfileModal_experienceItem__t3XDL",dates:"ProfileModal_dates__NPoJx",achievements:"ProfileModal_achievements__zDaYE",profileActions:"ProfileModal_profileActions__GtXV9",messageButton:"ProfileModal_messageButton__oDl_L",socialLinks:"ProfileModal_socialLinks__kAvki",socialLink:"ProfileModal_socialLink__HBAC3"}},1131:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});let n=(0,a(1713).A)("github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]])},1519:e=>{e.exports={container:"Connections_container__OoNeQ",header:"Connections_header__RSxYA",searchBar:"Connections_searchBar__mXr0G",tabs:"Connections_tabs__5cnUW",tab:"Connections_tab__Bsm_4",active:"Connections_active__woTCR",connectionsGrid:"Connections_connectionsGrid__ays1O",connectionCard:"Connections_connectionCard__XOD7I",cardHeader:"Connections_cardHeader__nZFrB",avatar:"Connections_avatar__Tx0hI",headerInfo:"Connections_headerInfo__rrI4D",role:"Connections_role__6vj2z",cardBody:"Connections_cardBody__S_KIh",infoItem:"Connections_infoItem__QT46h",skills:"Connections_skills__6cGZX",skill:"Connections_skill__N9C7u",cardActions:"Connections_cardActions__Bxdbz",actionButton:"Connections_actionButton__ygwtz",primary:"Connections_primary__e6cwS",loading:"Connections_loading__nk2t_",error:"Connections_error__ZIN60",noResults:"Connections_noResults__MVtDN",spinner:"Connections_spinner__f1e40",spin:"Connections_spin__bLXgy"}},1998:e=>{e.exports={modalOverlay:"MessageModal_modalOverlay__8srPP",fadeIn:"MessageModal_fadeIn__0GTTp",modalContent:"MessageModal_modalContent__CVwu6",slideUp:"MessageModal_slideUp__EIc50",closeButton:"MessageModal_closeButton__xB3g3",modalHeader:"MessageModal_modalHeader__ka8AH",avatar:"MessageModal_avatar__QmRoc",messageForm:"MessageModal_messageForm__UtS4t",sendButton:"MessageModal_sendButton__eP48D"}},2347:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});let n=(0,a(1713).A)("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},2839:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b});var n=a(7876),o=a(4232),i=a(7685),l=a(2934),t=a(4e3),c=a(672),r=a(2347),d=a(9458),_=a(1131);let h=(0,a(1713).A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var m=a(592),u=a.n(m);function x(e){var s,a,o;let{profile:i,onClose:l,onMessage:t}=e;return(0,n.jsx)("div",{className:u().modalOverlay,onClick:l,children:(0,n.jsxs)("div",{className:u().modalContent,onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("button",{className:u().closeButton,onClick:l,children:(0,n.jsx)(c.A,{size:24})}),(0,n.jsxs)("div",{className:u().profileHeader,children:[(0,n.jsx)("img",{src:i.avatar,alt:i.name,className:u().avatar}),(0,n.jsxs)("div",{className:u().headerInfo,children:[(0,n.jsx)("h2",{children:i.name}),(0,n.jsx)("p",{className:u().role,children:i.role})]})]}),(0,n.jsxs)("div",{className:u().profileBody,children:[i.bio&&(0,n.jsxs)("section",{className:u().section,children:[(0,n.jsx)("h3",{children:"About"}),(0,n.jsx)("p",{children:i.bio})]}),(0,n.jsxs)("section",{className:u().section,children:[(0,n.jsx)("h3",{children:"Education"}),(0,n.jsx)("p",{children:i.education})]}),i.experience&&i.experience.length>0&&(0,n.jsxs)("section",{className:u().section,children:[(0,n.jsx)("h3",{children:"Experience"}),i.experience.map((e,s)=>(0,n.jsxs)("div",{className:u().experienceItem,children:[(0,n.jsx)("h4",{children:e.title}),(0,n.jsx)("p",{children:e.company}),(0,n.jsxs)("p",{className:u().dates,children:[new Date(e.startDate).getFullYear()," -",e.current?"Present":new Date(e.endDate).getFullYear()]}),e.description&&(0,n.jsx)("p",{children:e.description})]},s))]}),i.skills&&i.skills.length>0&&(0,n.jsxs)("section",{className:u().section,children:[(0,n.jsx)("h3",{children:"Skills"}),(0,n.jsx)("div",{className:u().skills,children:i.skills.map((e,s)=>(0,n.jsx)("span",{className:u().skill,children:e},s))})]}),i.achievements&&i.achievements.length>0&&(0,n.jsxs)("section",{className:u().section,children:[(0,n.jsx)("h3",{children:"Achievements"}),(0,n.jsx)("ul",{className:u().achievements,children:i.achievements.map((e,s)=>(0,n.jsx)("li",{children:e},s))})]})]}),(0,n.jsxs)("div",{className:u().profileActions,children:[(0,n.jsxs)("button",{className:u().messageButton,onClick:()=>t(i),children:[(0,n.jsx)(r.A,{size:20}),"Message"]}),(0,n.jsxs)("div",{className:u().socialLinks,children:[(null===(s=i.socialLinks)||void 0===s?void 0:s.linkedin)&&(0,n.jsx)("a",{href:i.socialLinks.linkedin,target:"_blank",rel:"noopener noreferrer",className:u().socialLink,children:(0,n.jsx)(d.A,{size:20})}),(null===(a=i.socialLinks)||void 0===a?void 0:a.github)&&(0,n.jsx)("a",{href:i.socialLinks.github,target:"_blank",rel:"noopener noreferrer",className:u().socialLink,children:(0,n.jsx)(_.A,{size:20})}),(null===(o=i.socialLinks)||void 0===o?void 0:o.portfolio)&&(0,n.jsx)("a",{href:i.socialLinks.portfolio,target:"_blank",rel:"noopener noreferrer",className:u().socialLink,children:(0,n.jsx)(h,{size:20})})]})]})]})})}var p=a(26),v=a(1998),j=a.n(v);function f(e){let{recipient:s,onClose:a,onSend:i}=e,[l,t]=(0,o.useState)("");return(0,n.jsx)("div",{className:j().modalOverlay,onClick:a,children:(0,n.jsxs)("div",{className:j().modalContent,onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("button",{className:j().closeButton,onClick:a,children:(0,n.jsx)(c.A,{size:24})}),(0,n.jsxs)("div",{className:j().modalHeader,children:[(0,n.jsx)("img",{src:s.avatar,alt:s.name,className:j().avatar}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{children:["Message ",s.name]}),(0,n.jsx)("p",{children:s.role})]})]}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l.trim()&&(i(l.trim()),t(""))},className:j().messageForm,children:[(0,n.jsx)("textarea",{value:l,onChange:e=>t(e.target.value),placeholder:"Type your message...",rows:4,autoFocus:!0}),(0,n.jsxs)("button",{type:"submit",disabled:!l.trim(),className:j().sendButton,children:[(0,n.jsx)(p.A,{size:20}),"Send Message"]})]})]})})}var k=a(9516),g=a(4105),N=a(7396),C=a(1600),y=a(5450),M=a(1519),A=a.n(M);function b(){let{data:e,status:s}=(0,l.useSession)(),a=(0,t.useRouter)(),[c,d]=(0,o.useState)([]),[_,h]=(0,o.useState)(!0),[m,u]=(0,o.useState)(null),[p,v]=(0,o.useState)(!1),[j,M]=(0,o.useState)(""),[b,P]=(0,o.useState)("alumni"),[B,L]=(0,o.useState)(null);(0,o.useEffect)(()=>{if("unauthenticated"===s){a.push("/auth/login");return}"authenticated"===s&&w(b)},[s,b]);let w=async e=>{try{h(!0),L(null);let s=await fetch("/api/connections/filtered?filter=".concat(e));if(!s.ok)throw Error("Failed to fetch connections");let a=await s.json();d(a)}catch(e){console.error("Error fetching connections:",e),L("Failed to load connections"),i.oR.error("Failed to load connections")}finally{h(!1)}},I=e=>{u(e)},S=e=>{u(e),v(!0)},z=async e=>{try{if(!(await fetch("/api/chat/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e,receiver:m.id})})).ok)throw Error("Failed to send message");i.oR.success("Message sent successfully!"),v(!1),a.push("/chat")}catch(e){console.error("Error sending message:",e),i.oR.error("Failed to send message")}},O=c.filter(e=>{var s,a,n,o,i;let l=j.toLowerCase();return(null===(s=e.name)||void 0===s?void 0:s.toLowerCase().includes(l))||(null===(a=e.bio)||void 0===a?void 0:a.toLowerCase().includes(l))||(null===(n=e.company)||void 0===n?void 0:n.toLowerCase().includes(l))||(null===(o=e.position)||void 0===o?void 0:o.toLowerCase().includes(l))||(null===(i=e.skills)||void 0===i?void 0:i.some(e=>e.toLowerCase().includes(l)))});return(0,n.jsxs)("div",{className:A().container,children:[(0,n.jsx)("div",{className:A().header,children:(0,n.jsxs)("div",{className:A().searchBar,children:[(0,n.jsx)(k.A,{size:20}),(0,n.jsx)("input",{type:"text",placeholder:"Search ".concat("alumni"===b?"alumni":"students","..."),value:j,onChange:e=>M(e.target.value)})]})}),(0,n.jsxs)("div",{className:A().tabs,children:[(0,n.jsxs)("button",{className:"".concat(A().tab," ").concat("alumni"===b?A().active:""),onClick:()=>P("alumni"),children:[(0,n.jsx)(g.A,{size:18}),"Alumni"]}),(0,n.jsxs)("button",{className:"".concat(A().tab," ").concat("students"===b?A().active:""),onClick:()=>P("students"),children:[(0,n.jsx)(N.A,{size:18}),"Students"]})]}),(0,n.jsx)("div",{className:A().connectionsGrid,children:_?(0,n.jsxs)("div",{className:A().loading,children:[(0,n.jsx)("div",{className:A().spinner}),(0,n.jsxs)("p",{children:["Loading ",b,"..."]})]}):B?(0,n.jsxs)("div",{className:A().error,children:[(0,n.jsx)("p",{children:B}),(0,n.jsx)("button",{onClick:()=>w(b),children:"Retry"})]}):0===O.length?(0,n.jsx)("div",{className:A().noResults,children:j?"No ".concat(b," found matching your search"):"No ".concat(b," available")}):O.map(e=>(0,n.jsxs)("div",{className:A().connectionCard,onClick:()=>I(e),children:[(0,n.jsxs)("div",{className:A().cardHeader,children:[(0,n.jsx)("img",{src:e.avatar,alt:e.name,className:A().avatar}),(0,n.jsxs)("div",{className:A().headerInfo,children:[(0,n.jsx)("h3",{children:e.name}),(0,n.jsx)("p",{className:A().role,children:e.position||e.major})]})]}),(0,n.jsxs)("div",{className:A().cardBody,children:[e.company&&(0,n.jsxs)("div",{className:A().infoItem,children:[(0,n.jsx)(C.A,{size:16}),(0,n.jsx)("span",{children:e.company})]}),(0,n.jsxs)("div",{className:A().cardActions,children:[(0,n.jsxs)("button",{className:A().actionButton,onClick:s=>{s.stopPropagation(),S(e)},children:[(0,n.jsx)(y.A,{size:18}),"Message"]}),(0,n.jsxs)("button",{className:A().actionButton,onClick:s=>{s.stopPropagation(),window.location.href="mailto:".concat(e.email)},children:[(0,n.jsx)(r.A,{size:18}),"Email"]})]})]})]},e.id))}),m&&(0,n.jsx)(x,{profile:m,onClose:()=>u(null),onMessage:S}),p&&(0,n.jsx)(f,{recipient:m,onClose:()=>v(!1),onSend:z})]})}},5450:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});let n=(0,a(1713).A)("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},9279:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/connections",function(){return a(2839)}])},9458:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});let n=(0,a(1713).A)("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]])},9516:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});let n=(0,a(1713).A)("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[0,636,593,792],()=>s(9279)),_N_E=e.O()}]);