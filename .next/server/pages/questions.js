(()=>{var e={};e.id=1335,e.ids=[636,1335,3220],e.modules={128:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2386).A)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},237:(e,t)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return s}});var s=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},778:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2386).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},1060:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2386).A)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},1413:(e,t)=>{"use strict";Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},1428:e=>{"use strict";e.exports=import("axios")},1614:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2386).A)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},2015:e=>{"use strict";e.exports=require("react")},2691:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2386).A)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])},2893:e=>{"use strict";e.exports=import("react-hot-toast")},3862:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>C,getServerSideProps:()=>Q});var i=s(8732),n=s(2015),r=s(4722),o=s(9918),l=s.n(o),u=s(1428),d=s(4015),c=s.n(d),p=s(4961),m=s(5281),g=s(1060),h=s(2691),_=s(5112),y=s(9741),x=s(3838),v=s(6399),P=s(128),j=s(1614),f=s(7581),A=s(6744),N=s(778),q=s(2893),k=e([u,q]);[u,q]=k.then?(await k)():k;let b=e=>{let t={Pending:"#6c757d",General:"#0d6efd",Programming:"#198754","Web Development":"#dc3545","Mobile Development":"#fd7e14",Database:"#6610f2","Cloud Computing":"#0dcaf0",DevOps:"#d63384",Security:"#dc3545","Machine Learning":"#198754",Networking:"#6f42c1",Other:"#6c757d"};return t[e]||t.Other};function C(){let{data:e,status:t}=(0,r.useSession)(),[s,a]=(0,n.useState)([]),[o,d]=(0,n.useState)({title:"",description:""}),[k,C]=(0,n.useState)({}),[Q,S]=(0,n.useState)(0),[M,w]=(0,n.useState)(null),[z,I]=(0,n.useState)({title:"",description:""}),[B,E]=(0,n.useState)({post:!1,replies:{},votes:{},delete:{}}),[H,$]=(0,n.useState)({}),F=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),G=async()=>{if(!e){q.toast.error("Please login to post a question");return}if(!o.title.trim()){q.toast.error("Please provide a question title");return}try{E(e=>({...e,post:!0}));let e=await u.default.post("/api/questions",{title:o.title.trim(),description:o.description.trim()});"Pending"===e.data.category?(q.toast.loading("Classifying your question...",{duration:3e3}),setTimeout(fetchQuestions,3e3)):(a(t=>[e.data,...t]),q.toast.success(`Question posted in ${e.data.category} category!`)),d({title:"",description:""})}catch(e){console.error("Error posting question:",e),q.toast.error(e.response?.data?.message||"Failed to post question")}finally{E(e=>({...e,post:!1}))}},T=async t=>{if(!e){q.toast.error("Please login to reply");return}if(!k[t]?.trim()){q.toast.error("Please enter a reply");return}try{E(e=>({...e,replies:{...e.replies,[t]:!0}})),await u.default.patch("/api/questions/reply",{questionId:t,text:k[t]}),C(e=>({...e,[t]:""})),await fetchQuestions(),q.toast.success("Reply posted successfully!")}catch(e){console.error("Error posting reply:",e),q.toast.error("Failed to post reply")}finally{E(e=>({...e,replies:{...e.replies,[t]:!1}}))}},V=async(t,s)=>{if(!e){q.toast.error("Please login to vote");return}try{E(e=>({...e,votes:{...e.votes,[t]:!0}}));let e=await u.default.patch(`/api/questions/${t}/vote`,{direction:s});e.data&&a(s=>s.map(s=>s._id===t?{...s,...e.data}:s))}catch(e){console.error("Error voting:",e),q.toast.error(e.response?.data?.message||"Failed to register vote")}finally{E(e=>({...e,votes:{...e.votes,[t]:!1}}))}},R=async t=>{if(!e){q.toast.error("Please login to delete questions");return}if(window.confirm("Are you sure you want to delete this question?"))try{E(e=>({...e,delete:{...e.delete,[t]:!0}})),await u.default.delete(`/api/questions/${t}`),await fetchQuestions(),q.toast.success("Question deleted successfully!")}catch(e){console.error("Error deleting question:",e),q.toast.error(e.response?.data?.message||"Failed to delete question")}finally{E(e=>({...e,delete:{...e.delete,[t]:!1}}))}},D=e=>e&&(e.username||e.name||`${e.profile?.firstName||""} ${e.profile?.lastName||""}`.trim()||e.email?.split("@")[0])||"Anonymous",O=e=>e?e.profile?.avatar||e.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(D(e))}&background=random`:null,U=(t,s)=>!!e?.user?.id&&!!t.votes&&t.votes.some(t=>t.userId===e.user.id&&t.direction===s),W=e=>{let t=s.find(t=>t._id===e);I({title:t.title,description:t.description}),w(e)},L=t=>{if(!e||!t)return!1;if("superadmin"===e.user.role||"admin"===e.user.role&&t.collegeId===e.user.collegeId)return!0;let s=t.postedBy?._id||t.postedBy;return s&&s.toString()===e.user.id};return(0,i.jsxs)("div",{className:c().pageContainer,children:[(0,i.jsxs)("div",{className:c().leftColumn,children:[(0,i.jsx)("h1",{className:c().leftColumnHeading,children:"Post a Question"}),e?(0,i.jsxs)("div",{className:c().newQuestionCard,children:[(0,i.jsx)("h2",{className:c().subHeading,children:"Ask a Question"}),(0,i.jsx)("input",{type:"text",placeholder:"What's your question? *",value:o.title,onChange:e=>d(t=>({...t,title:e.target.value})),className:c().input,required:!0}),(0,i.jsx)("textarea",{placeholder:"Add more details about your question... (optional)",rows:8,value:o.description,onChange:e=>d(t=>({...t,description:e.target.value})),className:c().textarea}),(0,i.jsxs)("button",{onClick:G,className:c().postButton,disabled:B.post,children:[(0,i.jsx)(m.A,{size:18,style:{marginRight:"8px"}}),B.post?"Posting...":"Post Question"]})]}):(0,i.jsxs)("div",{className:c().loginPrompt,children:[(0,i.jsx)(p.A,{size:24}),(0,i.jsxs)("p",{children:["Please ",(0,i.jsx)(l(),{href:"/auth/login",children:"login"})," to post a question"]})]})]}),(0,i.jsxs)("div",{className:c().rightColumn,children:[(0,i.jsx)("h1",{className:c().heading,children:"Recent Questions"}),e?.user?.role==="alumni"&&(0,i.jsxs)("div",{className:c().filterInfo,children:["Showing ",s.length," questions matching your skills"]}),s.map(t=>(0,i.jsxs)("div",{className:c().questionThread,children:[(0,i.jsxs)("div",{className:c().voteColumn,children:[(0,i.jsx)("button",{className:`${c().voteButton} ${U(t,"up")?c().voted:""}`,onClick:()=>V(t._id,"up"),disabled:B.votes[t._id],children:(0,i.jsx)(g.A,{size:20})}),(0,i.jsx)("span",{className:c().voteCount,children:t.voteCount||0}),(0,i.jsx)("button",{className:`${c().voteButton} ${U(t,"down")?c().voted:""}`,onClick:()=>V(t._id,"down"),disabled:B.votes[t._id],children:(0,i.jsx)(h.A,{size:20})})]}),(0,i.jsx)("div",{className:c().questionContent,children:M===t._id?(0,i.jsxs)("div",{className:c().editForm,children:[(0,i.jsx)("input",{type:"text",value:z.title,onChange:e=>I(t=>({...t,title:e.target.value})),className:c().input}),(0,i.jsx)("textarea",{value:z.description,onChange:e=>I(t=>({...t,description:e.target.value})),rows:4,className:c().textarea}),(0,i.jsxs)("div",{className:c().buttonRow,children:[(0,i.jsxs)("button",{onClick:()=>W(t._id),className:c().saveBtn,disabled:B.edit,children:[(0,i.jsx)(_.A,{size:16,style:{marginRight:"8px"}}),B.edit?"Saving...":"Save Changes"]}),(0,i.jsxs)("button",{onClick:()=>w(null),className:c().cancelBtn,children:[(0,i.jsx)(y.A,{size:16})," Cancel"]})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:c().questionHeader,children:[(0,i.jsxs)("div",{className:c().userInfo,children:[(0,i.jsx)("img",{src:O(t.postedBy||{}),alt:D(t.postedBy||{}),className:c().userAvatar}),(0,i.jsxs)("div",{className:c().userMeta,children:[(0,i.jsx)("h3",{className:c().questionTitle,children:t.title}),(0,i.jsxs)("div",{className:c().questionMeta,children:[(0,i.jsxs)("span",{className:c().metaItem,children:[(0,i.jsx)(x.A,{size:14}),D(t.postedBy||{})]}),(0,i.jsxs)("span",{className:c().metaItem,children:[(0,i.jsx)(v.A,{size:14}),F(t.createdAt)]}),(0,i.jsxs)("span",{className:c().metaItem,children:[(0,i.jsx)(P.A,{size:14}),t.replies?.length||0," replies"]}),(0,i.jsx)("span",{className:`${c().metaItem} ${c().category}`,style:{backgroundColor:`${b(t.category)}20`,color:b(t.category),border:`1px solid ${b(t.category)}40`},children:"Pending"===t.category?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(j.A,{size:14,className:c().spinner}),"Classifying..."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.A,{size:14}),t.category]})})]})]})]}),L(t)&&(0,i.jsxs)("div",{className:c().questionActions,children:[(0,i.jsxs)("button",{onClick:()=>W(t._id),className:c().actionButton,children:[(0,i.jsx)(A.A,{size:14})," Edit"]}),(0,i.jsxs)("button",{onClick:()=>R(t._id),className:`${c().actionButton} ${c().deleteButton}`,disabled:B.delete[t._id],children:[(0,i.jsx)(N.A,{size:14}),B.delete[t._id]?"Deleting...":"Delete"]})]})]}),(0,i.jsx)("p",{className:c().questionDescription,children:t.description||"No additional details provided."}),(0,i.jsxs)("div",{className:c().repliesSection,children:[t.replies?.map(e=>i.jsx("div",{className:c().replyThread,children:i.jsxs("div",{className:c().replyContent,children:[i.jsxs("div",{className:c().replyMeta,children:[i.jsxs("span",{className:c().metaItem,children:[i.jsx(x.A,{size:12}),D(e.postedBy)]}),i.jsxs("span",{className:c().metaItem,children:[i.jsx(v.A,{size:12}),F(e.createdAt)]})]}),i.jsx("p",{children:e.text})]})},e._id)),e?(0,i.jsxs)("div",{className:c().replyForm,children:[(0,i.jsx)("input",{type:"text",placeholder:"Write your reply...",value:k[t._id]||"",onChange:e=>C(s=>({...s,[t._id]:e.target.value})),className:c().replyInput}),(0,i.jsxs)("button",{onClick:()=>T(t._id),className:c().replyButton,disabled:B.replies[t._id],children:[(0,i.jsx)(m.A,{size:14}),B.replies[t._id]?"Sending...":"Reply"]})]}):(0,i.jsx)("div",{className:c().loginPrompt,children:(0,i.jsxs)("p",{children:["Please ",(0,i.jsx)(l(),{href:"/auth/login",children:"login"})," to reply"]})})]})]})})]},t._id))]})]})}async function Q(e){return{props:{}}}a()}catch(e){a(e)}})},3873:e=>{"use strict";e.exports=require("path")},4015:e=>{e.exports={pageContainer:"QuestionsPage_pageContainer__NnhKX",leftColumn:"QuestionsPage_leftColumn__uYy85",leftColumnHeading:"QuestionsPage_leftColumnHeading__syeLU",heading:"QuestionsPage_heading__5mNVV",newQuestionCard:"QuestionsPage_newQuestionCard__V_Fdl",questionThread:"QuestionsPage_questionThread__VRbbq",voteColumn:"QuestionsPage_voteColumn__kN53x",voteButton:"QuestionsPage_voteButton__j9ZI0",voted:"QuestionsPage_voted__ynxay",voteCount:"QuestionsPage_voteCount__CG9mJ",questionContent:"QuestionsPage_questionContent__1xfTx",questionHeader:"QuestionsPage_questionHeader__9haWO",questionTitle:"QuestionsPage_questionTitle__cArwe",questionMeta:"QuestionsPage_questionMeta__VAs7I",metaItem:"QuestionsPage_metaItem__3MGgB",category:"QuestionsPage_category__WmlqP",questionDescription:"QuestionsPage_questionDescription__rgvX2",questionActions:"QuestionsPage_questionActions__EPAuo",actionButton:"QuestionsPage_actionButton__zrUmZ",postButton:"QuestionsPage_postButton__FzFhR",repliesSection:"QuestionsPage_repliesSection__3ds5x",replyThread:"QuestionsPage_replyThread__rwCqi",replyContent:"QuestionsPage_replyContent__Y__rP",replyMeta:"QuestionsPage_replyMeta__HA6te",replyForm:"QuestionsPage_replyForm__imsw8",replyInput:"QuestionsPage_replyInput__U8z1Y",replyButton:"QuestionsPage_replyButton__5KOQ7",input:"QuestionsPage_input__aMyWN",textarea:"QuestionsPage_textarea__Pv5_4",loginPrompt:"QuestionsPage_loginPrompt__bUH5_",userInfo:"QuestionsPage_userInfo__3oz_m",userAvatar:"QuestionsPage_userAvatar__qmjlw",userMeta:"QuestionsPage_userMeta__Lzf7u",deleteButton:"QuestionsPage_deleteButton__avZtG",spinner:"QuestionsPage_spinner__gzEHf",spin:"QuestionsPage_spin__lEimu",filterInfo:"QuestionsPage_filterInfo__Ec9kb"}},4722:e=>{"use strict";e.exports=require("next-auth/react")},4961:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2386).A)("log-in",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},4981:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{config:()=>h,default:()=>c,getServerSideProps:()=>g,getStaticPaths:()=>m,getStaticProps:()=>p,reportWebVitals:()=>_,routeModule:()=>f,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>j,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>x,unstable_getStaticProps:()=>y});var i=s(3885),n=s(237),r=s(1413),o=s(9674),l=s(7522),u=s(3862),d=e([l,u]);[l,u]=d.then?(await d)():d;let c=(0,r.M)(u,"default"),p=(0,r.M)(u,"getStaticProps"),m=(0,r.M)(u,"getStaticPaths"),g=(0,r.M)(u,"getServerSideProps"),h=(0,r.M)(u,"config"),_=(0,r.M)(u,"reportWebVitals"),y=(0,r.M)(u,"unstable_getStaticProps"),x=(0,r.M)(u,"unstable_getStaticPaths"),v=(0,r.M)(u,"unstable_getStaticParams"),P=(0,r.M)(u,"unstable_getServerProps"),j=(0,r.M)(u,"unstable_getServerSideProps"),f=new i.PagesRouteModule({definition:{kind:n.A.PAGES,page:"/questions",pathname:"/questions",bundlePath:"",filename:""},components:{App:l.default,Document:o.default},userland:u});a()}catch(e){a(e)}})},5112:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2386).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},5281:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2386).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},6399:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2386).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6744:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2386).A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},7581:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2386).A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9674:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(8732),i=s(2341);function n(){return(0,a.jsxs)(i.Html,{lang:"en",children:[(0,a.jsx)(i.Head,{}),(0,a.jsxs)("body",{children:[(0,a.jsx)(i.Main,{}),(0,a.jsx)(i.NextScript,{})]})]})}}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[3407,2341,8757,7522],()=>s(4981));module.exports=a})();